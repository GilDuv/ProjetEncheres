<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" data-th-href="@{/assets/css/style.css}">
        <link rel="stylesheet" data-th-href="@{/assets/css/vente.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Vente</title>
</head>
<body>
    <div class="container-fluid">
		 <div th:replace="~{fragment/fragment-entete :: frag-entete}"></div>
<!-- Header -->
       

<!-- Formulaire création de profil -->
    <div class="container">
        <h1 class="text-center mt-5">Nouvelle Vente</h1>
			 
        <form action="/vendre" method="POST" th:object="${article}" class="column needs-validation" novalidate>
			
			<input type="hidden" th:name="noUtilisateur" th:value="${utilisateur.noUtilisateur}">
			
            <div class="col-md-6">
                <label for="idNomArticle" class="form-label">Article :</label>
                <input type="text" class="form-control" id="idNomArticle" th:field="*{nomArticle}">
	            <div th:replace="~{fragment/fragment-error :: frag-error('nomArticle')}"></div>   				
            </div>

            <div class="col-md-6">
                <label for="idDescription" class="form-label">Description :</label>
                <input type="text" class="form-control" id="idDescription" th:field="*{description}" required>
                <div th:replace="~{fragment/fragment-error :: frag-error('description')}"></div>
            </div>

            
            <div class="col-md-6">
	    		<label for="idCategorieArticle" class="form-label">Catégorie :</label>
	    		<select class="form-control" id="idCategorieArticle" th:field="*{categorieArticle}">
	   	 			<option selected ="form-control" th:each="c : ${categorieSession}" th:text="${c.libelle}" th:value="${c.noCategorie}"></option> 
				</select>
			</div>
	
            <div class="col-md-6">
				<label for="imageUpload" class="form-label"> Photo de l'article :</label>
   				 <input class="form-control" type="file" id="imageUpload" name="image" accept="image/*">
			</div>
            
            
            <div class="col-md-6">
				<label for="idMiseAPrix" class="form-label">Mise à prix :</label> 
				<input class="form-control" id="idMiseAPrix" type="number" required="required" th:field="*{miseAPrix}"/>
			</div>
         
        	<div class="col-md-6">
				<label for="idDateDebutEncheres" class="form-label">Début de l'enchère :</label> 
				<input class="form-control" id="idDateDebutEncheres" type="datetime-local" required="required" th:field="*{dateDebutEncheres}"/>
			</div>
			
			<div class="col-md-6">
				<label for="idDateFinEncheres" class="form-label">Fin de l'enchère :</label> 
				<input class="form-control" id="idDateFinEncheres" type="datetime-local" required="required" th:field="*{dateFinEncheres}"/>
			</div>
			
			
			<div action="/vendre" method="POST" th:object="${utilisateur}" class="retrait" novalidate>
			 <legend>Retrait</legend>
			 <div class="col-md-6">
                <label for="idRue" class="form-label">Rue :</label>
                <input type="text" class="form-control" id="idRue" th:field="*{rue}" required>
              </div>  
              
              <div class="col-md-6">
                <label for="idCodePostal" class="form-label">Code Postal :</label>
                <input type="text" class="form-control" id="idCodePostal"  th:field="*{codePostal}" required>
              </div> 
              
              <div class="col-md-6">
                <label for="idVille" class="form-label">Ville :</label>
                <input type="text" class="form-control" id="idVille" th:field="*{ville}" required>
              </div> 
              
            </div>  
            
			
            <!-- Include CSRF token -->
			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            <div class="button">
                <button class="btn btn-primary me-2 center-block" type="submit">Enregistrer</button>
                <a th:href="@{/}" class="btn btn-secondary center-block">Annuler</a>
            </div>
        </form>
    </div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
